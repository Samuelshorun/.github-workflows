# jira Exporter Workflow
# This workflow responsible for running jira exporter.
# integration.config.jiraHost: The URL of your Jira, for example: https://example.atlassian.net
# integration.secrets.atlassianUserEmail: The email of the user used to query Jira
# integration.secrets.atlassianUserToken: Jira API token generated by the user specified under atlassianUserEmail

on:
    workflow_dispatch:
    schedule:
        - cron: '0 */1 * * *' # Determines the scheduled interval for this workflow. This example runs every hour.

jobs:
    run-integration:
        runs-on: ubuntu-latest

        steps:
            - name: Run jira Integration
              uses: port-labs/ocean-sail@v1
              with:
                type: jira
                port_client_id: ${{ imDYobGss2xTm09QpxrxLsl5FKkCrhad }}
                port_client_secret: ${{ jCHM2oO356tYpX3MZC8Gp3dsIwTy2N8uQrag1Q1e4g1exnPHXG6CfcNAt5A4RcEq }}
                config: |
                    jiraHost: "https://samuelshorun.atlassian.net/"
                    atlassianUserEmail: ${{ samuelshorun@gmail.com }}
                    atlassianUserToken: ${{ ATATT3xFfGF02-baSYN7bU9KqcZv6UfxD6vtfzmZ_l9Q0qgp6GazCe0bFXu2Yw5dsH32P_of2iaK1sXYahOJyCt7zl3dw8JGReO1Grqou-mvmbZ-qXnnGPHWzdEk5zFUA41pmlpDvFd_ET1bsm9WRDUHhS8EchRi5qnS0NdkeUQbhYFrVRA9leI=2C608404 }}
